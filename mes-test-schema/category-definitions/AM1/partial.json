{
  "title": "Partial Test Result Cat AM1 Schema",
  "type": "object",
  "definitions": {
    "avoidance": {
      "description": "The outcome of avoidance tests",
      "type": "object",
      "properties": {
        "firstAttempt": {
          "description": "The speed of the first attempt",
          "type": "integer"
        },
        "secondAttempt": {
          "description": "The speed of the second attempt",
          "type": "integer"
        },
        "speedNotMet": {
          "description": "Whether the required speed was not met",
          "type": "boolean"
        }
      }
    },
    "emergencyStop": {
      "description": "The outcome of emergency stop tests",
      "type": "object",
      "properties": {
        "firstAttempt": {
          "description": "The speed of the first attempt",
          "type": "integer"
        },
        "secondAttempt": {
          "description": "The speed of the second attempt",
          "type": "integer"
        },
        "speedNotMet": {
          "description": "Whether the required speed was not met",
          "type": "boolean"
        }
      }
    },
    "faultComments": {
      "$ref": "../common/index.json#/definitions/faultComments"
    },
    "drivingFaultCount": {
      "$ref": "../common/index.json#/definitions/drivingFaultCount"
    },
    "ETA": {
      "description": "Indicates whether the examiner had to take physical or verbal action during the test",
      "type": "object",
      "properties": {
        "physical": {
          "description": "Indicates that the examiner had to take physical action",
          "type": "boolean"
        },
        "verbal": {
          "description": "Indicates that the examiner had to take verbal action",
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "drivingFaults": {
      "description": "The driving faults accumulated during the test",
      "type": "object",
      "properties": {
        "useOfStand": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "useOfStandComments": {
          "$ref": "#/definitions/faultComments"
        },
        "manualHandling": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "manualHandlingComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slalom": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "slalomComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slowControl": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "slowControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "uTurn": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "uTurnComments": {
          "$ref": "#/definitions/faultComments"
        },
        "controlledStop": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "controlledStopComments": {
          "$ref": "#/definitions/faultComments"
        },
        "precautions": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "precautionsComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffSafety": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "moveOffSafetyComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffControl": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "moveOffControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "avoidance": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "avoidanceComments": {
          "$ref": "#/definitions/faultComments"
        },
        "emergencyStop": {
          "$ref": "#/definitions/drivingFaultCount"
        },
        "emergencyStopComments": {
          "$ref": "#/definitions/faultComments"
        }
      },
      "additionalProperties": false
    },
    "seriousFaultIndicator": {
      "description": "Indicator for a serious fault being recorded against a test element",
      "type": "boolean"
    },
    "seriousFaults": {
      "description": "The serious faults accumulated during the test",
      "type": "object",
      "properties": {
        "useOfStand": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "useOfStandComments": {
          "$ref": "#/definitions/faultComments"
        },
        "manualHandling": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "manualHandlingComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slalom": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "slalomComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slowControl": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "slowControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "uTurn": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "uTurnComments": {
          "$ref": "#/definitions/faultComments"
        },
        "controlledStop": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "controlledStopComments": {
          "$ref": "#/definitions/faultComments"
        },
        "precautions": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "precautionsComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffSafety": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "moveOffSafetyComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffControl": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "moveOffControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "avoidance": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "avoidanceComments": {
          "$ref": "#/definitions/faultComments"
        },
        "emergencyStop": {
          "$ref": "#/definitions/seriousFaultIndicator"
        },
        "emergencyStopComments": {
          "$ref": "#/definitions/faultComments"
        }
      },
      "additionalProperties": false
    },
    "dangerousFaultIndicator": {
      "description": "Indicator for a dangerous fault being recorded against a test element",
      "type": "boolean"
    },
    "dangerousFaults": {
      "description": "The dangerous faults accumulated during the test",
      "type": "object",
      "properties": {
        "useOfStand": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "useOfStandComments": {
          "$ref": "#/definitions/faultComments"
        },
        "manualHandling": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "manualHandlingComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slalom": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "slalomComments": {
          "$ref": "#/definitions/faultComments"
        },
        "slowControl": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "slowControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "uTurn": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "uTurnComments": {
          "$ref": "#/definitions/faultComments"
        },
        "controlledStop": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "controlledStopComments": {
          "$ref": "#/definitions/faultComments"
        },
        "precautions": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "precautionsComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffSafety": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "moveOffSafetyComments": {
          "$ref": "#/definitions/faultComments"
        },
        "moveOffControl": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "moveOffControlComments": {
          "$ref": "#/definitions/faultComments"
        },
        "avoidance": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "avoidanceComments": {
          "$ref": "#/definitions/faultComments"
        },
        "emergencyStop": {
          "$ref": "#/definitions/dangerousFaultIndicator"
        },
        "emergencyStopComments": {
          "$ref": "#/definitions/faultComments"
        }
      },
      "additionalProperties": false
    },
    "schoolBike": {
      "description": "Indicates whether the bike belongs to a driving school",
      "type": "boolean"
    },
    "manoeuvre": {
      "$ref": "../common/index.json#/definitions/manoeuvre"
    },
    "controlledStopOutcome": {
      "$ref": "../common/index.json#/definitions/manoeuvreOutcome"
    },
    "controlledStopIndicator": {
      "description": "Indicator for a controlled stop being performed during the test",
      "type": "boolean"
    },
    "questionResult": {
      "$ref": "../common/index.json#/definitions/questionResult"
    },
    "vehicleDetails": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "schoolBike": {
          "$ref": "#/definitions/schoolBike"
        }
      }
    },
    "journalData": {
      "properties": {
        "candidate": {
          "$ref": "#/definitions/candidate"
        }
      },
      "additionalProperties": false,
      "required": [
        "candidate"
      ]
    },
    "address": {
      "$ref": "../common/index.json#/definitions/address"
    },
    "businessName": {
      "description": "Name of the business the candidate relates to",
      "type": "string",
      "maxLength": 100
    },
    "businessTelephone": {
      "description": "Telephone number of the business the candidate relates to",
      "type": "string",
      "maxLength": 20
    },
    "candidate": {
      "properties": {
        "businessAddress": {
          "$ref": "#/definitions/address"
        },
        "businessName": {
          "$ref": "#/definitions/businessName"
        },
        "businessTelephone": {
          "$ref": "#/definitions/businessTelephone"
        }
      },
      "type": "object",
      "additionalProperties": false
    },
    "testData": {
      "description": "Data associated with the test",
      "type": "object",
      "properties": {
        "ETA": {
          "$ref": "#/definitions/ETA"
        },
        "drivingFaults": {
          "$ref": "#/definitions/drivingFaults"
        },
        "seriousFaults": {
          "$ref": "#/definitions/seriousFaults"
        },
        "dangerousFaults": {
          "$ref": "#/definitions/dangerousFaults"
        },
        "emergencyStop": {
          "$ref": "#/definitions/emergencyStop"
        },
        "avoidance": {
          "$ref": "#/definitions/avoidance"
        }
      },
      "additionalProperties": false
    }
  },
  "properties": {
    "testData": {
      "$ref": "#/definitions/testData"
    },
    "journalData": {
      "$ref": "#/definitions/journalData"
    },
    "vehicleDetails": {
      "$ref": "#/definitions/vehicleDetails"
    }
  },
  "additionalProperties": false,
  "required": [
    "journalData"
  ]
}